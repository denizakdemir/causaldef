% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/competing_risks.R
\name{causal_spec_competing}
\alias{causal_spec_competing}
\title{Causal Specification for Competing Risks}
\usage{
causal_spec_competing(
  data,
  treatment,
  time,
  event,
  covariates = NULL,
  event_of_interest = 1,
  horizon = NULL,
  estimand = c("cif", "cshr")
)
}
\arguments{
\item{data}{Data frame containing the variables}

\item{treatment}{Character: name of the treatment variable}

\item{time}{Character: name of the time-to-event variable}

\item{event}{Character: name of the event indicator (0 = censored, 1+ = event type)}

\item{covariates}{Character vector: names of covariate variables}

\item{event_of_interest}{Integer: which event type is the primary outcome (default 1)}

\item{horizon}{Numeric: time horizon for cumulative incidence}

\item{estimand}{Character: "cif" (cumulative incidence) or "cshr" (cause-specific HR)}
}
\value{
Object of class c("causal_spec_competing", "causal_spec_survival", "causal_spec")
}
\description{
Creates a specification object for time-to-event data with competing events.
Extends standard survival analysis to handle multiple event types.
}
\details{
In competing risks, standard survival methods can be biased because:
\enumerate{
\item Censoring the competing event underestimates cumulative incidence
\item Cause-specific hazards don't translate directly to probabilities
}

The Aalen-Johansen estimator handles this by modeling all transitions:
\deqn{F_k(t) = P(T \leq t, J = k) = \int_0^t S(u-) \lambda_k(u) du}
}
\examples{
# Simulate competing risks: death (1) vs transplant (2)
set.seed(42)
n <- 500
W <- rnorm(n)
A <- rbinom(n, 1, plogis(0.3 * W))

# Event times
rate_death <- exp(-0.5 * A + 0.2 * W)
rate_transplant <- exp(0.3 * A - 0.1 * W)

time_death <- rexp(n, rate_death)
time_transplant <- rexp(n, rate_transplant)
time_censor <- runif(n, 0, 3)

observed_time <- pmin(time_death, time_transplant, time_censor)
event <- ifelse(observed_time == time_death, 1,
                ifelse(observed_time == time_transplant, 2, 0))

df <- data.frame(W = W, A = A, time = observed_time, event = event)

spec <- causal_spec_competing(
  df, "A", "time", "event", "W",
  event_of_interest = 1,
  horizon = 2
)
print(spec)

}
\seealso{
\code{\link[=estimate_deficiency]{estimate_deficiency()}}, \code{\link[=causal_spec_survival]{causal_spec_survival()}}
}
