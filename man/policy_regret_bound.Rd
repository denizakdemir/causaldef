% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/policy_bounds.R
\name{policy_regret_bound}
\alias{policy_regret_bound}
\title{Compute Policy Regret Bounds}
\usage{
policy_regret_bound(
  deficiency,
  utility_range = c(0, 1),
  obs_regret = NULL,
  policy_class = NULL,
  delta_mode = c("point", "upper")
)
}
\arguments{
\item{deficiency}{A deficiency object or numeric \eqn{\delta} value (between 0 and 1)}

\item{utility_range}{Numeric vector c(min, max) of utility bounds}

\item{obs_regret}{Numeric: observed regret from policy on observational data (optional)}

\item{policy_class}{Character: description of policy class (for reporting)}

\item{delta_mode}{Character: how to extract \eqn{\delta} from a deficiency object.
\itemize{
\item "point": use the minimum point estimate (default)
\item "upper": use the minimum upper CI bound (more conservative; requires bootstrap)
}}
}
\value{
Object of class "policy_bound" containing:
\itemize{
\item regret_bound: Upper bound on interventional regret (if obs_regret provided)
\item safety_floor: Backward-compatible alias for transfer_penalty
\item transfer_penalty: Additive regret penalty = M*\eqn{\delta}
\item minimax_floor: Minimax lower bound = (M/2)*\eqn{\delta}
\item delta: Deficiency value used
\item utility_range: Range of utility function
\item M: Utility range (max - min)
}
}
\description{
Given deficiency \eqn{\delta}, computes worst-case bounds on policy regret.
The bound states: \eqn{Regret_{do} \le Regret_{obs} + M \cdot \delta}
}
\details{
For any policy \eqn{\pi} learned from observational data, the regret bound is:
\deqn{Regret_{do}(\pi) \leq Regret_{obs}(\pi) + M \cdot \delta}

The "transfer penalty" \eqn{M\delta} quantifies worst-case regret inflation from
the information gap between observational and interventional experiments.

Separately, a minimax lower bound ("minimax floor") of \eqn{(M/2)\delta} holds for
bounded utilities (see manuscript theorem \code{thm:safety_floor}).
}
\section{Implications for Safe AI}{

If \eqn{\delta > 0} (unobserved confounding exists), no algorithm can guarantee
zero regret. The deficiency \eqn{\delta} is the "price of safety" for deploying
policies without randomized experimentation.
}

\examples{
# From a deficiency estimate
# From a deficiency estimate
df <- data.frame(W=rnorm(100), A=rbinom(100,1,0.5), Y=rnorm(100))
spec <- causal_spec(df, "A", "Y", "W")
def <- estimate_deficiency(spec, methods = "iptw", n_boot = 0)
bound <- policy_regret_bound(def, utility_range = c(0, 1))

# From a numeric value
bound <- policy_regret_bound(
  deficiency = 0.1,
  utility_range = c(0, 100),
  obs_regret = 5
)
print(bound)

}
\references{
Akdemir, D. (2026). Constraints on Causal Inference as Experiment Comparison.
DOI: 10.5281/zenodo.18367347. See \code{thm:policy_regret} (Policy Regret Transfer)
and \code{thm:safety_floor} (Minimax Safety Floor).
}
\seealso{
\code{\link[=estimate_deficiency]{estimate_deficiency()}}, \code{\link[=confounding_frontier]{confounding_frontier()}}
}
