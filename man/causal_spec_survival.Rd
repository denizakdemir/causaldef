% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/causal_spec_survival.R
\name{causal_spec_survival}
\alias{causal_spec_survival}
\title{Create a Survival Causal Specification}
\usage{
causal_spec_survival(
  data,
  treatment,
  time,
  event,
  covariates = NULL,
  competing_event = NULL,
  estimand = c("ATE", "RMST", "HR"),
  horizon = NULL,
  na.action = na.omit
)
}
\arguments{
\item{data}{A data.frame containing survival data}

\item{treatment}{Character: name of the treatment variable}

\item{time}{Character: name of the time-to-event variable}

\item{event}{Character: name of the event indicator (1 = event, 0 = censored).
If the column is a factor/character (e.g., \code{"Death"}, \code{"Relapse"},
\code{"Censored"}), it will be coerced to a 0/1 indicator by treating
\code{"Censored"} (case-insensitive) and \code{"0"} as censored and all other
non-missing values as events. For competing risks, prefer
\code{\link[=causal_spec_competing]{causal_spec_competing()}}.}

\item{covariates}{Character vector: names of adjustment covariates}

\item{competing_event}{Character: name of competing event indicator (optional)}

\item{estimand}{Character: target estimand ("ATE", "RMST", "HR")}

\item{horizon}{Numeric: time horizon for RMST (required if estimand = "RMST")}

\item{na.action}{Function: how to handle missing values}
}
\value{
Object of class "causal_spec_survival"
}
\description{
Defines a causal inference problem with time-to-event outcomes.
}
\details{
For survival outcomes, the deficiency measures how well we can simulate
the interventional survival distribution from observational data.
}
\section{Estimands}{

\describe{
\item{ATE}{Average treatment effect on survival probability at horizon}
\item{RMST}{Restricted mean survival time difference}
\item{HR}{Hazard ratio (log scale)}
}
}

\examples{
# Simulate survival data
n <- 200
W <- rnorm(n)
A <- rbinom(n, 1, plogis(0.5 * W))
time <- rexp(n, rate = exp(-0.5 * A + 0.3 * W))
event <- rbinom(n, 1, 0.8)
df <- data.frame(W = W, A = A, time = time, event = event)

spec <- causal_spec_survival(
  data = df,
  treatment = "A",
  time = "time",
  event = "event",
  covariates = "W",
  estimand = "RMST",
  horizon = 5
)

}
\seealso{
\code{\link[=causal_spec]{causal_spec()}}, \code{\link[=estimate_deficiency]{estimate_deficiency()}}
}
